{% extends 'base_appointment.html' %}

{% load static %}
{% load bootstrap_tags %}

{% block title %}Add Tenant{% endblock title %}
{% block scripts %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.min.css" />
{% endblock scripts %}

{% block content %}
  <div class="row">
    <div class="col-lg-12">
      <div class="page-header">
        <h1 id="appointment-title">
          {% if not object.pk %}
            Add Tenant
          {% else %}
            Edit Tenant
          {% endif %}
          </h1>
          <p id="appointment-description">
            Add your tenant by filling out the form below.
          </p>
      </div>

      <form class="form-horizontal" method="post">
        {% csrf_token %}
        {# Non Field Form Errors #}
        {% if form.errors %}
          {% for error in form.non_field_errors %}
              <div class="alert alert-danger">
                  <strong>{{ error|escape }}</strong>
              </div>
          {% endfor %}
        {% endif %}

        {{ form.name.errors }}
        {{ form.name.label_tag }}
        {{ form.name }}

        {{ form.phone_number.errors }}
        {{ form.phone_number.label_tag }}
        {{ form.phone_number }}


        {{ form.email.errors }}
        {{ form.email.label_tag }}
        {{ form.email }}

        {{ form.lease_begin.errors }}
        {{ form.lease_begin.label_tag }}
        {{ form.lease_begin }}

        {{ form.lease_length.errors }}
        {{ form.lease_length.label_tag }}
        {{ form.lease_length }}


        <button type="submit" class="standard-btn create-appointment-btn">
          {% if not object.pk %}
            Add Tenant
          {% else %}
            Update Tenant
          {% endif %}
          <i class="fas fa-pencil-alt"></i>
        </button>
      </form>
    </div>
  </div>

{% endblock %}

{% block page_js %}
<script defer type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
<script defer type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>
<script defer type="text/javascript" src="{% static 'tenants/js/calendar.js' %}"></script>
{% endblock %}
